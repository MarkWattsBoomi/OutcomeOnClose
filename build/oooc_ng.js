var ie=Object.create;var A=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var ae=Object.getOwnPropertyNames;var le=Object.getPrototypeOf,ue=Object.prototype.hasOwnProperty;var $=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var ce=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of ae(e))!ue.call(t,o)&&o!==n&&A(t,o,{get:()=>e[o],enumerable:!(r=se(e,o))||r.enumerable});return t};var F=(t,e,n)=>(n=t!=null?ie(le(t)):{},ce(e||!t||!t.__esModule?A(n,"default",{value:t,enumerable:!0}):n,t));var te=$(c=>{"use strict";var I=Symbol.for("react.element"),he=Symbol.for("react.portal"),me=Symbol.for("react.fragment"),pe=Symbol.for("react.strict_mode"),de=Symbol.for("react.profiler"),fe=Symbol.for("react.provider"),ye=Symbol.for("react.context"),be=Symbol.for("react.forward_ref"),ve=Symbol.for("react.suspense"),we=Symbol.for("react.memo"),Ie=Symbol.for("react.lazy"),z=Symbol.iterator;function Ee(t){return t===null||typeof t!="object"?null:(t=z&&t[z]||t["@@iterator"],typeof t=="function"?t:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,Y={};function v(t,e,n){this.props=t,this.context=e,this.refs=Y,this.updater=n||H}v.prototype.isReactComponent={};v.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};v.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function K(){}K.prototype=v.prototype;function P(t,e,n){this.props=t,this.context=e,this.refs=Y,this.updater=n||H}var L=P.prototype=new K;L.constructor=P;Q(L,v.prototype);L.isPureReactComponent=!0;var W=Array.isArray,X=Object.prototype.hasOwnProperty,R={current:null},Z={key:!0,ref:!0,__self:!0,__source:!0};function ee(t,e,n){var r,o={},i=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(i=""+e.key),e)X.call(e,r)&&!Z.hasOwnProperty(r)&&(o[r]=e[r]);var l=arguments.length-2;if(l===1)o.children=n;else if(1<l){for(var u=Array(l),m=0;m<l;m++)u[m]=arguments[m+2];o.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)o[r]===void 0&&(o[r]=l[r]);return{$$typeof:I,type:t,key:i,ref:s,props:o,_owner:R.current}}function ge(t,e){return{$$typeof:I,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function B(t){return typeof t=="object"&&t!==null&&t.$$typeof===I}function Ce(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var G=/\/+/g;function x(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Ce(""+t.key):e.toString(36)}function D(t,e,n,r,o){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case I:case he:s=!0}}if(s)return s=t,o=o(s),t=r===""?"."+x(s,0):r,W(o)?(n="",t!=null&&(n=t.replace(G,"$&/")+"/"),D(o,e,n,"",function(m){return m})):o!=null&&(B(o)&&(o=ge(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(G,"$&/")+"/")+t)),e.push(o)),1;if(s=0,r=r===""?".":r+":",W(t))for(var l=0;l<t.length;l++){i=t[l];var u=r+x(i,l);s+=D(i,e,n,u,o)}else if(u=Ee(t),typeof u=="function")for(t=u.call(t),l=0;!(i=t.next()).done;)i=i.value,u=r+x(i,l++),s+=D(i,e,n,u,o);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function S(t,e,n){if(t==null)return t;var r=[],o=0;return D(t,r,"","",function(i){return e.call(n,i,o++)}),r}function Se(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var p={current:null},N={transition:null},De={ReactCurrentDispatcher:p,ReactCurrentBatchConfig:N,ReactCurrentOwner:R};c.Children={map:S,forEach:function(t,e,n){S(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return S(t,function(){e++}),e},toArray:function(t){return S(t,function(e){return e})||[]},only:function(t){if(!B(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};c.Component=v;c.Fragment=me;c.Profiler=de;c.PureComponent=P;c.StrictMode=pe;c.Suspense=ve;c.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=De;c.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Q({},t.props),o=t.key,i=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,s=R.current),e.key!==void 0&&(o=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)X.call(e,u)&&!Z.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var m=0;m<u;m++)l[m]=arguments[m+2];r.children=l}return{$$typeof:I,type:t.type,key:o,ref:i,props:r,_owner:s}};c.createContext=function(t){return t={$$typeof:ye,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:fe,_context:t},t.Consumer=t};c.createElement=ee;c.createFactory=function(t){var e=ee.bind(null,t);return e.type=t,e};c.createRef=function(){return{current:null}};c.forwardRef=function(t){return{$$typeof:be,render:t}};c.isValidElement=B;c.lazy=function(t){return{$$typeof:Ie,_payload:{_status:-1,_result:t},_init:Se}};c.memo=function(t,e){return{$$typeof:we,type:t,compare:e===void 0?null:e}};c.startTransition=function(t){var e=N.transition;N.transition={};try{t()}finally{N.transition=e}};c.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};c.useCallback=function(t,e){return p.current.useCallback(t,e)};c.useContext=function(t){return p.current.useContext(t)};c.useDebugValue=function(){};c.useDeferredValue=function(t){return p.current.useDeferredValue(t)};c.useEffect=function(t,e){return p.current.useEffect(t,e)};c.useId=function(){return p.current.useId()};c.useImperativeHandle=function(t,e,n){return p.current.useImperativeHandle(t,e,n)};c.useInsertionEffect=function(t,e){return p.current.useInsertionEffect(t,e)};c.useLayoutEffect=function(t,e){return p.current.useLayoutEffect(t,e)};c.useMemo=function(t,e){return p.current.useMemo(t,e)};c.useReducer=function(t,e,n){return p.current.useReducer(t,e,n)};c.useRef=function(t){return p.current.useRef(t)};c.useState=function(t){return p.current.useState(t)};c.useSyncExternalStore=function(t,e,n){return p.current.useSyncExternalStore(t,e,n)};c.useTransition=function(){return p.current.useTransition()};c.version="18.2.0"});var k=$((Je,ne)=>{"use strict";ne.exports=te()});var b=class t{constructor(e){if(this.ContentFormat="",this.ContentType=a.unknown,this.DeveloperName="",this.TypeElementId="",this.TypeElementPropertyId="",e)switch(this.DeveloperName=e.developerName,this.ContentType=a[e.contentType],this.ContentFormat=e.contentFormat?e.contentFormat:"",this.TypeElementId=e.typeElementId?e.typeElementId:"",this.TypeElementPropertyId=e.typeElementPropertyId,this.ContentType){case a.ContentObject:this.Value=e.objectData?new f(e.objectData):void 0;break;case a.ContentList:this.Value=e.objectData?new d(e.objectData):new d([]);break;case a.ContentNumber:this.Value=e.contentValue?parseFloat(""+e.contentValue):null;break;case a.ContentBoolean:this.Value=(""+e.contentValue).trim().toLowerCase()==="true";break;case a.ContentDateTime:this.Value=new Date(e.contentValue);break;default:this.Value=e.contentValue?""+e.contentValue:"";break}}static newInstance(e,n,r){let o,i=[];switch(n){case a.ContentObject:let l=r;i.push(l.iObjectData());break;case a.ContentList:i=r.iFlowObjectDataArray();break;case a.ContentNumber:o=r;break;case a.ContentBoolean:o=r;break;default:o=r;break}let s={contentFormat:"",contentType:a[n],contentValue:o,developerName:e,objectData:i,typeElementId:"",typeElementPropertyId:""};return new this(s)}get contentFormat(){return this.ContentFormat}set contentFormat(e){this.contentFormat=e}get contentType(){return this.ContentType}set contentType(e){this.ContentType=e}get developerName(){return this.DeveloperName}set developerName(e){this.DeveloperName=e}get typeElementId(){return this.TypeElementId}set typeElementId(e){this.TypeElementId=e}get typeElementPropertyId(){return this.TypeElementPropertyId}set typeElementPropertyId(e){this.TypeElementPropertyId=e}get value(){switch(this.contentType){case a.ContentNumber:return this.Value;case a.ContentBoolean:return this.Value;case a.ContentDateTime:return this.Value;default:return this.Value}}set value(e){switch(this.contentType){case a.ContentNumber:this.Value=parseFloat(e?""+e:"0");break;case a.ContentBoolean:this.Value=new String(e).toLowerCase()==="true";case a.ContentDateTime:this.Value=new Date(e);default:this.Value=e}}clone(){let e;switch(this.contentType){case a.ContentList:e=new d,this.value.items.forEach(r=>{e.addItem(r.clone(r.developerName))});break;case a.ContentObject:e=this.value.clone(this.value.developerName);break;default:e=this.value}return t.newInstance(this.developerName,this.contentType,e)}iFlowObjectDataProperty(){let e="",n=[];switch(this.ContentType){case a.ContentObject:let o=this.Value;o&&o.developerName&&o.developerName.length>0&&n.push(o.iObjectData());break;case a.ContentList:n=this.Value.iFlowObjectDataArray();break;case a.ContentNumber:e=""+parseFloat(this.Value?this.Value:"0");break;case a.ContentBoolean:e=""+(new String(this.Value).toLowerCase()==="true");break;case a.ContentDateTime:e=isNaN(this.Value.getTime())?"":this.Value.toISOString();break;default:e=this.Value;break}return{contentFormat:this.ContentFormat,contentType:a[this.ContentType],contentValue:e,developerName:this.DeveloperName,objectData:n,typeElementId:this.TypeElementId,typeElementPropertyId:this.TypeElementPropertyId}}get displayString(){let e="";if(this.Value)switch(this.ContentType){case a.ContentString:case a.ContentNumber:e=this.Value;break;case a.ContentBoolean:this.Value===!0?e="True":e="False";break;case a.ContentDateTime:let n=Date.parse(this.Value);if(!isNaN(n)){let r=new Date(n);return e.length<=10?r.toLocaleDateString():r.toLocaleString()}break;default:e=a[this.ContentType];break}else e="Undefined";return e}};var f=class t{constructor(e){if(this.DeveloperName="",this.ExternalId="",this.InternalId="",this.IsSelected=!1,this.Order=0,this.TypeElementId="",this.Properties={},e&&e[0]){let n=e[0];if(this.DeveloperName=n.developerName,this.InternalId=n.internalId,this.ExternalId=n.externalId,this.Order=n.order,this.IsSelected=n.isSelected,this.TypeElementId=n.typeElementId,n.properties&&n.properties.length>0)for(let r of n.properties)this.Properties[r.developerName]=new b(r)}else console.log("null data")}get developerName(){return this.DeveloperName}set developerName(e){this.DeveloperName=e}get externalId(){return this.ExternalId}set externalId(e){this.ExternalId=e}get internalId(){return this.InternalId}set internalId(e){this.InternalId=e}get isSelected(){return this.IsSelected}set isSelected(e){this.IsSelected=e}get order(){return this.Order}set order(e){this.Order=e}get typeElementId(){return this.TypeElementId}set typeElementId(e){this.TypeElementId=e}get properties(){return this.Properties}static newInstance(e){let n={developerName:e,externalId:"",internalId:crypto.randomUUID(),isSelected:!1,order:0,properties:[],typeElementId:""};return new this([n])}addProperty(e){this.Properties[e.developerName]=e}removeProperty(e){delete this.Properties[e]}clone(e){let n=t.newInstance(e||this.DeveloperName);return Object.keys(this.properties).forEach(r=>{let o=this.properties[r].clone();n.properties[r]=o}),n}iObjectData(e){let n=[];for(let o of Object.keys(this.properties))n.push(this.properties[o].iFlowObjectDataProperty());return{developerName:this.developerName,externalId:this.externalId,internalId:this.internalId,isSelected:e||this.isSelected,order:this.order,properties:n,typeElementId:this.TypeElementId}}iFlowObjectDataArray(e){let n=[];return n.push(this.iObjectData(e)),n}};var _;(function(t){t[t.ascending=0]="ascending",t[t.descending=1]="descending"})(_||(_={}));var d=class t{constructor(e){this.Items=[];for(let n of e||[])this.Items.push(new f([n]))}get items(){return this.Items}sort(e,n){return e===_.ascending?n?this.Items.sort((r,o)=>{let i,s;switch(r.properties[n].contentType){case a.ContentNumber:i=parseFloat(r.properties[n].value),s=parseFloat(o.properties[n].value);break;case a.ContentDateTime:i=new Date(r.properties[n].value),s=new Date(o.properties[n].value);break;default:i=r.properties[n].value,s=o.properties[n].value;break}switch(!0){case i<s:return-1;case i>s:return 1;default:return 0}}):this.Items.sort((r,o)=>r.order-o.order):n?this.Items.sort((r,o)=>{if(r&&o&&r.properties&&o.properties&&r.properties[n]&&o.properties[n]&&r.properties[n].value&&o.properties[n].value)if(r.properties[n])switch(!0){case r.properties[n].value<o.properties[n].value:return 1;case r.properties[n].value>o.properties[n].value:return-1;default:return 0}else return 0;else return 0}):this.Items.sort((r,o)=>r.order-o.order)}static fromJSONString(e,n,r,o){let i=new t;return JSON.parse(e).forEach(l=>{let u=f.newInstance(o);r.forEach(m=>{let h=l[m.developerName];switch(m.developerName===n&&(u.externalId=h),m.contentType){case a.ContentDateTime:h=new Date(h),h&&!isNaN(h.getTime())?h=h.toISOString():h="";break;case a.ContentNumber:h=parseFloat(""+h),h&&!isNaN(h)?h=""+h:h="";break;case a.ContentBoolean:h=new String(h).toLowerCase()==="true";break}u.addProperty(b.newInstance(m.developerName,m.contentType,h)),u.properties[m.developerName].typeElementPropertyId=m.typeElementPropertyId}),i.addItem(u)}),i}addItem(e){this.Items.push(e)}clearItems(){this.Items=[]}clone(){let e=new t;return this.items.forEach(n=>{e.addItem(n.clone())}),e}iFlowObjectDataArray(e){let n=[];for(let r of this.Items)n.push(r.iObjectData(e));return n}getItemWithPropertyName(e,n,r){for(let o of this.Items)if(o.properties[e]&&o.properties[e].value!=null){let i=o.properties[e].value,s=n;switch(o.properties[e].contentType){case a.ContentString:i=i.toLowerCase(),s=s.toLowerCase();break;case a.ContentNumber:i=i,s=parseFloat(s.toLowerCase());break;case a.ContentBoolean:i=i,s=new String(s).toLowerCase()==="true";break;default:break}if(i===s)return o.properties[r]}return null}getSelectedItems(){let e=new t;for(let n of this.Items)n.isSelected===!0&&e.addItem(n);return e}getItemWithPropertyValue(e,n){for(let r of this.Items)if(r.properties[e]&&r.properties[e].value!=null){let o=r.properties[e].value,i=n;switch(r.properties[e].contentType){case a.ContentString:o=o.toLowerCase(),i=new String(i).toLowerCase();break;case a.ContentNumber:o=o,i=parseFloat(new String(i).toLowerCase());break;case a.ContentBoolean:o=o,i=new String(i).toLowerCase()==="true";break;default:break}if(o===i)return r}}getIndexOfItemWithPropertyValue(e,n){for(let r=0;r<this.items.length;r++){let o=this.items[r];if(o.properties[e]&&o.properties[e].value!=null){let i=o.properties[e].value,s=n;switch(o.properties[e].contentType){case a.ContentString:i=i.toLowerCase(),s=s.toLowerCase();break;case a.ContentNumber:i=i,s=parseFloat(new String(s).toLowerCase());break;case a.ContentBoolean:i=i,s=new String(s).toLowerCase()==="true";break;default:break}if(i===s)return r}}return-1}removeItemWithPropertyValue(e,n){let r=0;for(let o=0;o<this.items.length;o++){let i=this.items[o];if(i.properties[e]&&i.properties[e].value!=null){let s=i.properties[e].value,l=n;switch(i.properties[e].contentType){case a.ContentString:s=s.toLowerCase(),l=l.toLowerCase();break;case a.ContentNumber:s=s,l=parseFloat(new String(l).toLowerCase());break;case a.ContentBoolean:s=s,l=new String(l).toLowerCase()==="true";break;default:break}s===l&&(this.items.splice(o,1),r++)}}return r}removeItemAtIndex(e){let n=0;return this.items[e]&&(this.items.splice(e,1),n=e),n}};var g=class{constructor(e,n){this.Name=e,this.Value=n}get name(){return this.Name}get value(){return this.Value}set value(e){this.Value=e}};var q;(function(t){t.Save="SAVE",t.PartialSave="PARTIAL_SAVE",t.NoSave="NO_SAVE"})(q||(q={}));var J;(function(t){t.New="NEW",t.Query="QUERY",t.Insert="INSERT",t.Update="UPDATE",t.Upsert="UPSERT",t.Delete="DELETE",t.Remove="REMOVE",t.Add="ADD",t.Edit="EDIT",t.Next="NEXT",t.Back="BACK",t.Done="DONE",t.Save="SAVE",t.Cancel="CANCEL",t.Apply="APPLY",t.Import="IMPORT",t.Close="CLOSE",t.Open="OPEN",t.Submit="SUBMIT",t.Escalate="ESCALATE",t.Reject="REJECT",t.Delegate="DELEGATE"})(J||(J={}));var w=class{constructor(e){if(this.developerName=e.developerName,this.id=e.id,this.isBulkAction=e.isBulkAction,this.isOut=e.isOut,this.label=e.label,this.order=e.order,this.pageActionBindingType=e.pageActionBindingType,this.pageActionType=e.pageActionType,this.pageObjectBindingId=e.pageObjectBindingId,this.attributes={},e.attributes)for(let n of Object.keys(e.attributes))this.attributes[n]=new g(n,e.attributes[n])}};var C=class{constructor(e){this.componentType=e.componentType,this.contentFormat=e.contentFormat,this.contentType=a[e.contentType],this.developerName=e.developerName,this.order=e.order,this.label=e.label,this.isEditable=e.isEditable,this.typeElememtPropertyToDisplayId=e.typeElememtPropertyToDisplayId,this.typeElementPropertyId=e.typeElementPropertyId,this.isDisplayValue=e.isDisplayValue}};var re=F(k());var E=class{constructor(e){if(this.ContentType=a.unknown,this.DeveloperName="",this.TypeElementDeveloperName="",this.TypeElementId="",this.TypeElementPropertyDeveloperName="",this.TypeElementPropertyId="",this.ValueElementId="",e)switch(this.ContentType=a[e.contentType],this.DeveloperName=e.developerName,this.TypeElementDeveloperName=e.typeElementDeveloperName,this.TypeElementId=e.typeElementId,this.TypeElementPropertyDeveloperName=e.typeElementPropertyDeveloperName,this.TypeElementPropertyId=e.typeElementPropertyId,this.ValueElementId=e.valueElementId,this.ContentType){case a.ContentObject:this.Value=e.objectData?new f(e.objectData):void 0;break;case a.ContentList:this.Value=e.objectData&&e.objectData[0]?new d(e.objectData):new d([]);break;default:this.Value=e.contentValue;break}}get contentType(){return this.ContentType}get developerName(){return this.DeveloperName}get typeElementDeveloperName(){return this.TypeElementDeveloperName}get typeElementId(){return this.TypeElementId}get typeElementPropertyDeveloperName(){return this.TypeElementPropertyDeveloperName}get typeElementPropertyId(){return this.TypeElementPropertyId}get valueElementId(){return this.ValueElementId}get value(){return this.Value}set value(e){this.Value=e}iFlowField(){let e="",n=[];switch(this.ContentType){case a.ContentObject:let o=this.Value;n.push(o.iObjectData());break;case a.ContentList:n=this.Value.iFlowObjectDataArray();break;default:e=this.Value?this.Value:"";break}return{contentType:a[this.ContentType],contentValue:e,developerName:this.DeveloperName,objectData:n,typeElementDeveloperName:this.TypeElementDeveloperName,typeElementId:this.TypeElementId,typeElementPropertyDeveloperName:this.TypeElementPropertyDeveloperName,typeElementPropertyId:this.TypeElementPropertyId,valueElementId:this.ValueElementId}}};var T=function(t,e,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function l(h){try{m(r.next(h))}catch(y){s(y)}}function u(h){try{m(r.throw(h))}catch(y){s(y)}}function m(h){h.done?i(h.value):o(h.value).then(l,u)}m((r=r.apply(t,e||[])).next())})},V=class extends re.default.Component{constructor(e){super(e),this.attributes={},this.fields={},this.outcomes={},this.triggerOutcome=this.triggerOutcome.bind(this),this.getPageComponentDataSource=this.getPageComponentDataSource.bind(this),this.loadModel=this.loadModel.bind(this),this.getOutcomeById=this.getOutcomeById.bind(this),this.triggerOutcome=this.triggerOutcome.bind(this),this.getPageComponentDataSource=this.getPageComponentDataSource.bind(this),this.loadModel(e)}callRequest(e,n,r,o=!1){return T(this,void 0,void 0,function*(){let i,s={},l=this.flowBaseUri||window.location.origin;o?l+="/api/run/2/state/"+this.stateId:l+="/api/run/1/state/"+this.stateId,e&&e.length>0&&(l+="/"+e),s.method=n,s.headers={"Content-Type":"application/json",ManyWhoTenant:this.tenantId},this.authenticationToken&&(s.headers.Authorization=this.authenticationToken),s.credentials="same-origin",(n==="POST"||n==="PUT")&&(s.body=JSON.stringify(r));let u=yield fetch(l,s);if(u.status===200)i=yield u.json();else{let m=yield u.text();console.log("Fetch Failed - "+m)}return i})}getAttribute(e,n){var r;return!((r=this.attributes)===null||r===void 0)&&r[e]?this.attributes[e]:n||""}getOutcomeById(e){let n;return Object.keys(this.outcomes).forEach(r=>{this.outcomes[r].id===e&&(n=this.outcomes[r])}),n}getStateValue(){return this.stateValue}getOriginalStateValue(){var e;switch(this.contentType){case a.ContentObject:return this.objectData.items[0];case a.ContentList:return this.objectData;case a.ContentBoolean:return((e=this.contentValue)===null||e===void 0?void 0:e.toLowerCase())==="true";case a.ContentNumber:let n=parseFloat(this.contentValue);return isNaN(n)?void 0:n;case a.ContentDateTime:let r=new Date(this.contentValue);return isNaN(r.getTime())?void 0:r;default:return this.contentValue}}getValue(e){return T(this,void 0,void 0,function*(){let n;try{n=yield this.callRequest("values/name/"+e,"GET",{}),sessionStorage.setItem(n.developerName,JSON.stringify(n))}catch(r){console.error(r),n=JSON.parse(sessionStorage.getItem(e))}finally{return n&&(this.fields[n.developerName]=new E(n)),this.fields[n.developerName]}})}setValues(e){return T(this,void 0,void 0,function*(){let n=[];if(e.constructor.name===E.name)n.push(e.iFlowField()),sessionStorage.setItem(e.developerName,JSON.stringify(e.iFlowField()));else for(let r of e)n.push(r.iFlowField()),sessionStorage.setItem(r.developerName,JSON.stringify(r.iFlowField()));return yield this.callRequest("values","POST",n),this.hasEvents,Promise.resolve()})}inflateValue(e){return T(this,void 0,void 0,function*(){if(e){let n,r,o=[];for(;r=RegExp(/{{([^}]*)}}/).exec(e);){let i=r[1].split("->"),s;if(this.fields[i[0]]?s=this.fields[i[0]]:(s=yield this.getValue(i[0]),this.fields[i[0]]=s),s){let l=s.value;if(l)if(i.length>1){for(let u=1;u<i.length;u++)l=l.properties[i[u]].value;n=l}else n=s.value;else n=s.value;e=e.replace(r[0],n)}}}return e})}};var Ne=function(t,e,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function l(h){try{m(r.next(h))}catch(y){s(y)}}function u(h){try{m(r.throw(h))}catch(y){s(y)}}function m(h){h.done?i(h.value):o(h.value).then(l,u)}m((r=r.apply(t,e||[])).next())})},a;(function(t){t[t.unknown=0]="unknown",t[t.ContentString=1]="ContentString",t[t.ContentNumber=2]="ContentNumber",t[t.ContentObject=3]="ContentObject",t[t.ContentBoolean=4]="ContentBoolean",t[t.ContentList=5]="ContentList",t[t.ContentPassword=6]="ContentPassword",t[t.ContentContent=7]="ContentContent",t[t.ContentDateTime=8]="ContentDateTime",t[t.ContentEncrypted=9]="ContentEncrypted"})(a||(a={}));var O=class extends V{setPageComponentState(e,n){throw new Error("Method not implemented.")}getPageComponentDataSource(e){throw new Error("Method not implemented.")}requestObjectData(e){throw new Error("Method not implemented.")}constructor(e){super(e),this.flowBaseUri=window.location.origin}UNSAFE_componentWillReceiveProps(e,n){this.loadModel(e)&&this.childComponent&&this.componentDidMount&&this.componentDidMount()}componentUpdated(e){}loadModel(e){var n,r,o;let i=!1;this.authenticationToken=e.authenticationToken,this.attributes=e.element.attributes,this.className=e.element.className,this.colSpan=e.element.colSpan,this.column=e.element.column,this.columns=[],(n=e.element.columns)===null||n===void 0||n.forEach(l=>{this.columns.push(new C(l))}),this.columns.sort((l,u)=>l.order-u.order),this.componentScriptURL=e.element.componentScriptURL,this.componentStyleSheetURL=e.element.componentStyleSheetURL,this.content=e.element.content,this.contentType=a[e.element.contentType],this.contentValue!==e.element.contentValue&&(i=!0),this.contentValue=e.element.contentValue,this.developerName=e.element.developerName,this.fields={},this.fileDataRequest=e.element.fileDataRequest,this.hasEvents=e.element.hasEvents,this.hasSubmitted=e.hasSubmitted,this.height=e.element.height,this.helpInfo=e.element.helpInfo,this.hintValue=e.element.hintValue,this.id!==e.element.id&&(i=!0),this.id=e.element.id,this.imageUri=e.element.imageUri,this.isEditable=e.element.isEditable,this.isEnabled=e.element.isEnabled,this.isMultiSelect=e.element.isMultiSelect,this.isRequired=e.element.isRequired,this.isSearchable=e.element.isSearchable,this.isSearchableDisplayColumns=e.element.isSearchableDisplayColumns,this.isValid=e.element.isValid,this.isVisible=e.element.isVisible,this.label=e.element.label,this.maxSize=e.element.maxSize;let s=new d(e.element.objectData);return this.objectData?s?JSON.stringify(this.objectData)!==JSON.stringify(s)&&(i=!0):i=!0:s&&(i=!0),this.objectData=s,this.objectDataRequest=e.element.objectDataRequest,this.order=e.element.order,this.outcomes={},(r=e.outcomes)===null||r===void 0||r.forEach(l=>{let u=new w(l);u.pageObjectBindingId===this.id&&(this.outcomes[u.developerName]=u)}),(o=e.element.outcomes)===null||o===void 0||o.forEach(l=>{let u=new w(l);u.pageObjectBindingId===this.id&&(this.outcomes[u.developerName]=u)}),this.pageContainerId=e.element.pageContainerId,this.pageSize=e.element.pageSize||20,this.row=e.element.row,this.rowSpan=e.element.rowSpan,this.selectedItems=e.element.selectedItems,this.size=e.element.size,this.stateId=e.stateId,this.tags=e.element.tags,this.tenantId=e.tenantId,this.type=e.element.type,this.validationMessage=e.element.validationMessage,this.validations=e.element.validations,this.width=e.element.width,i}redraw(){this.componentDidMount()}triggerOutcome(e){return Ne(this,void 0,void 0,function*(){if(this.outcomes[e]){let n={outcomeId:this.outcomes[e].id,invokeType:"FORWARD"};this.props.execute(n)}})}setStateValue(e){this.stateValue=e;let n={elementId:this.id,elementPartial:{},triggersPageCondition:this.hasEvents};switch(this.contentType){case a.ContentObject:n.elementPartial.objectData=e.iFlowObjectDataArray(!0),n.elementPartial.selectedItems=n.elementPartial.objectData;break;case a.ContentList:n.elementPartial.objectData=e.iFlowObjectDataArray(!0),n.elementPartial.selectedItems=n.elementPartial.objectData;break;case a.ContentBoolean:n.elementPartial.contentValue=e===!0?"true":"false";break;case a.ContentNumber:n.elementPartial.contentValue=""+e;break;case a.ContentDateTime:n.elementPartial.contentValue=isNaN(e.getTime())?"":e.toISOString();break;default:n.elementPartial.contentValue=""+e;break}this.props.updateElement(n)}getUserEmail(){let e="admin@manywho.com";if(this.authenticationToken&&this.authenticationToken.length>0)try{let n=window.atob(this.authenticationToken.split(".")[1]);e=JSON.parse(n).email}catch{console.log("Error parsing token")}return e}};var oe=F(k());var U=F(k()),j=class extends U.default.Component{constructor(n){super(n);this.version="1.0.0";this.component=this.props.parent,this.triggerOutcome=this.triggerOutcome.bind(this),window.addEventListener("beforeunload",this.triggerOutcome)}async triggerOutcome(){let n=Object.keys(this.component.outcomes)[0];n&&this.component.triggerOutcome(n)}async componentUpdated(n){}render(){let n="",r={};r.width="0px",r.height="0px",this.component.isVisible===!1&&(r.display="none");let o=this.component.label||"";return U.default.createElement("div",{className:n,style:r})}};var M=class extends O{componentDidMount(){this.forceUpdate()}render(){return oe.createElement(j,{parent:this,ref:e=>{this.childComponent=e}})}};export{M as default};
/*! Bundled license information:

react/cjs/react.production.min.js:
  (**
   * @license React
   * react.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)
*/
