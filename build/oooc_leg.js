var se=Object.create;var A=Object.defineProperty;var ae=Object.getOwnPropertyDescriptor;var le=Object.getOwnPropertyNames;var ce=Object.getPrototypeOf,ue=Object.prototype.hasOwnProperty;var q=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var he=(t,e,n,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of le(e))!ue.call(t,o)&&o!==n&&A(t,o,{get:()=>e[o],enumerable:!(i=ae(e,o))||i.enumerable});return t};var M=(t,e,n)=>(n=t!=null?se(ce(t)):{},he(e||!t||!t.__esModule?A(n,"default",{value:t,enumerable:!0}):n,t));var Z=q(u=>{"use strict";var g=Symbol.for("react.element"),me=Symbol.for("react.portal"),de=Symbol.for("react.fragment"),pe=Symbol.for("react.strict_mode"),fe=Symbol.for("react.profiler"),ye=Symbol.for("react.provider"),we=Symbol.for("react.context"),ve=Symbol.for("react.forward_ref"),be=Symbol.for("react.suspense"),ge=Symbol.for("react.memo"),Ce=Symbol.for("react.lazy"),z=Symbol.iterator;function Se(t){return t===null||typeof t!="object"?null:(t=z&&t[z]||t["@@iterator"],typeof t=="function"?t:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,H={};function w(t,e,n){this.props=t,this.context=e,this.refs=H,this.updater=n||J}w.prototype.isReactComponent={};w.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};w.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function G(){}G.prototype=w.prototype;function F(t,e,n){this.props=t,this.context=e,this.refs=H,this.updater=n||J}var _=F.prototype=new G;_.constructor=F;W(_,w.prototype);_.isPureReactComponent=!0;var K=Array.isArray,Q=Object.prototype.hasOwnProperty,x={current:null},Y={key:!0,ref:!0,__self:!0,__source:!0};function X(t,e,n){var i,o={},r=null,s=null;if(e!=null)for(i in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(r=""+e.key),e)Q.call(e,i)&&!Y.hasOwnProperty(i)&&(o[i]=e[i]);var l=arguments.length-2;if(l===1)o.children=n;else if(1<l){for(var c=Array(l),m=0;m<l;m++)c[m]=arguments[m+2];o.children=c}if(t&&t.defaultProps)for(i in l=t.defaultProps,l)o[i]===void 0&&(o[i]=l[i]);return{$$typeof:g,type:t,key:r,ref:s,props:o,_owner:x.current}}function Ie(t,e){return{$$typeof:g,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function R(t){return typeof t=="object"&&t!==null&&t.$$typeof===g}function De(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var $=/\/+/g;function L(t,e){return typeof t=="object"&&t!==null&&t.key!=null?De(""+t.key):e.toString(36)}function E(t,e,n,i,o){var r=typeof t;(r==="undefined"||r==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(r){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case g:case me:s=!0}}if(s)return s=t,o=o(s),t=i===""?"."+L(s,0):i,K(o)?(n="",t!=null&&(n=t.replace($,"$&/")+"/"),E(o,e,n,"",function(m){return m})):o!=null&&(R(o)&&(o=Ie(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace($,"$&/")+"/")+t)),e.push(o)),1;if(s=0,i=i===""?".":i+":",K(t))for(var l=0;l<t.length;l++){r=t[l];var c=i+L(r,l);s+=E(r,e,n,c,o)}else if(c=Se(t),typeof c=="function")for(t=c.call(t),l=0;!(r=t.next()).done;)r=r.value,c=i+L(r,l++),s+=E(r,e,n,c,o);else if(r==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function D(t,e,n){if(t==null)return t;var i=[],o=0;return E(t,i,"","",function(r){return e.call(n,r,o++)}),i}function Ee(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var d={current:null},j={transition:null},je={ReactCurrentDispatcher:d,ReactCurrentBatchConfig:j,ReactCurrentOwner:x};u.Children={map:D,forEach:function(t,e,n){D(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return D(t,function(){e++}),e},toArray:function(t){return D(t,function(e){return e})||[]},only:function(t){if(!R(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};u.Component=w;u.Fragment=de;u.Profiler=fe;u.PureComponent=F;u.StrictMode=pe;u.Suspense=be;u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=je;u.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=W({},t.props),o=t.key,r=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(r=e.ref,s=x.current),e.key!==void 0&&(o=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)Q.call(e,c)&&!Y.hasOwnProperty(c)&&(i[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)i.children=n;else if(1<c){l=Array(c);for(var m=0;m<c;m++)l[m]=arguments[m+2];i.children=l}return{$$typeof:g,type:t.type,key:o,ref:r,props:i,_owner:s}};u.createContext=function(t){return t={$$typeof:we,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:ye,_context:t},t.Consumer=t};u.createElement=X;u.createFactory=function(t){var e=X.bind(null,t);return e.type=t,e};u.createRef=function(){return{current:null}};u.forwardRef=function(t){return{$$typeof:ve,render:t}};u.isValidElement=R;u.lazy=function(t){return{$$typeof:Ce,_payload:{_status:-1,_result:t},_init:Ee}};u.memo=function(t,e){return{$$typeof:ge,type:t,compare:e===void 0?null:e}};u.startTransition=function(t){var e=j.transition;j.transition={};try{t()}finally{j.transition=e}};u.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};u.useCallback=function(t,e){return d.current.useCallback(t,e)};u.useContext=function(t){return d.current.useContext(t)};u.useDebugValue=function(){};u.useDeferredValue=function(t){return d.current.useDeferredValue(t)};u.useEffect=function(t,e){return d.current.useEffect(t,e)};u.useId=function(){return d.current.useId()};u.useImperativeHandle=function(t,e,n){return d.current.useImperativeHandle(t,e,n)};u.useInsertionEffect=function(t,e){return d.current.useInsertionEffect(t,e)};u.useLayoutEffect=function(t,e){return d.current.useLayoutEffect(t,e)};u.useMemo=function(t,e){return d.current.useMemo(t,e)};u.useReducer=function(t,e,n){return d.current.useReducer(t,e,n)};u.useRef=function(t){return d.current.useRef(t)};u.useState=function(t){return d.current.useState(t)};u.useSyncExternalStore=function(t,e,n){return d.current.useSyncExternalStore(t,e,n)};u.useTransition=function(){return d.current.useTransition()};u.version="18.2.0"});var N=q((Oe,ee)=>{"use strict";ee.exports=Z()});manywho.eventManager||(manywho.eventManager={},manywho.eventManager.beforeSendListeners={},manywho.eventManager.doneListeners={},manywho.eventManager.initializedListeners={},manywho.eventManager.joinListeners={},manywho.eventManager.failListeners={},manywho.eventManager.outcomeBeingTriggered,manywho.eventManager.history=[],manywho.eventManager.beforeSend=(t,e)=>{t&&window.hasOwnProperty("culture")&&culture.length>0&&t.setRequestHeader("Culture",culture);for(let n in manywho.eventManager.beforeSendListeners)manywho.eventManager.beforeSendListeners[n](t,e)},manywho.eventManager.join=(t,e)=>{for(let n in manywho.eventManager.joinListeners)manywho.eventManager.joinListeners[n](t,e)},manywho.eventManager.done=(t,e)=>{for(let n in manywho.eventManager.doneListeners)manywho.eventManager.doneListeners[n](t,e)},manywho.eventManager.initialized=(t,e)=>{for(let n in manywho.eventManager.initializedListeners)manywho.eventManager.initializedListeners[n](t,e)},manywho.eventManager.fail=(t,e)=>{for(let n in manywho.eventManager.failListeners)manywho.eventManager.failListeners[n](t,e)},manywho.eventManager.addBeforeSendListener=(t,e)=>{manywho.eventManager.beforeSendListeners[e]=t},manywho.eventManager.removeBeforeSendListener=t=>{delete manywho.eventManager.beforeSendListeners[t]},manywho.eventManager.addInitializedListener=(t,e)=>{manywho.eventManager.initializedListeners[e]=t},manywho.eventManager.removeInitializedListener=t=>{delete manywho.eventManager.initializedListeners[t]},manywho.eventManager.addJoinListener=(t,e)=>{manywho.eventManager.joinListeners[e]=t},manywho.eventManager.removeJoinListener=t=>{delete manywho.eventManager.joinListeners[t]},manywho.eventManager.addDoneListener=(t,e)=>{manywho.eventManager.doneListeners[e]=t},manywho.eventManager.removeDoneListener=t=>{delete manywho.eventManager.doneListeners[t]},manywho.eventManager.addFailListener=(t,e)=>{manywho.eventManager.failListeners[e]=t},manywho.eventManager.removeFailListener=t=>{delete manywho.eventManager.failListeners[t]},manywho.settings.initialize(null,{invoke:{beforeSend:manywho.eventManager.beforeSend,done:manywho.eventManager.done,fail:manywho.eventManager.fail},initialization:{beforeSend:manywho.eventManager.beforeSend,done:manywho.eventManager.initialized,fail:manywho.eventManager.fail},join:{beforeSend:manywho.eventManager.beforeSend,done:manywho.eventManager.join,fail:manywho.eventManager.fail}}));var oe=M(N());var v=class t{constructor(e){if(this.ContentFormat="",this.ContentType=a.unknown,this.DeveloperName="",this.TypeElementId="",this.TypeElementPropertyId="",e)switch(this.DeveloperName=e.developerName,this.ContentType=a[e.contentType],this.ContentFormat=e.contentFormat?e.contentFormat:"",this.TypeElementId=e.typeElementId?e.typeElementId:"",this.TypeElementPropertyId=e.typeElementPropertyId,this.ContentType){case a.ContentObject:this.Value=e.objectData?new f(e.objectData):void 0;break;case a.ContentList:this.Value=e.objectData?new p(e.objectData):new p([]);break;case a.ContentNumber:this.Value=e.contentValue?parseFloat(""+e.contentValue):null;break;case a.ContentBoolean:this.Value=(""+e.contentValue).trim().toLowerCase()==="true";break;case a.ContentDateTime:this.Value=new Date(e.contentValue);break;default:this.Value=e.contentValue?""+e.contentValue:"";break}}static newInstance(e,n,i){let o,r=[];switch(n){case a.ContentObject:let l=i;r.push(l.iObjectData());break;case a.ContentList:r=i.iFlowObjectDataArray();break;case a.ContentNumber:o=i;break;case a.ContentBoolean:o=i;break;default:o=i;break}let s={contentFormat:"",contentType:a[n],contentValue:o,developerName:e,objectData:r,typeElementId:"",typeElementPropertyId:""};return new this(s)}get contentFormat(){return this.ContentFormat}set contentFormat(e){this.contentFormat=e}get contentType(){return this.ContentType}set contentType(e){this.ContentType=e}get developerName(){return this.DeveloperName}set developerName(e){this.DeveloperName=e}get typeElementId(){return this.TypeElementId}set typeElementId(e){this.TypeElementId=e}get typeElementPropertyId(){return this.TypeElementPropertyId}set typeElementPropertyId(e){this.TypeElementPropertyId=e}get value(){switch(this.contentType){case a.ContentNumber:return this.Value;case a.ContentBoolean:return this.Value;case a.ContentDateTime:return this.Value;default:return this.Value}}set value(e){switch(this.contentType){case a.ContentNumber:this.Value=parseFloat(e?""+e:"0");break;case a.ContentBoolean:this.Value=new String(e).toLowerCase()==="true";case a.ContentDateTime:this.Value=new Date(e);default:this.Value=e}}clone(){let e;switch(this.contentType){case a.ContentList:e=new p,this.value.items.forEach(i=>{e.addItem(i.clone(i.developerName))});break;case a.ContentObject:e=this.value.clone(this.value.developerName);break;default:e=this.value}return t.newInstance(this.developerName,this.contentType,e)}iFlowObjectDataProperty(){let e="",n=[];switch(this.ContentType){case a.ContentObject:let o=this.Value;o&&o.developerName&&o.developerName.length>0&&n.push(o.iObjectData());break;case a.ContentList:n=this.Value.iFlowObjectDataArray();break;case a.ContentNumber:e=""+parseFloat(this.Value?this.Value:"0");break;case a.ContentBoolean:e=""+(new String(this.Value).toLowerCase()==="true");break;case a.ContentDateTime:e=isNaN(this.Value.getTime())?"":this.Value.toISOString();break;default:e=this.Value;break}return{contentFormat:this.ContentFormat,contentType:a[this.ContentType],contentValue:e,developerName:this.DeveloperName,objectData:n,typeElementId:this.TypeElementId,typeElementPropertyId:this.TypeElementPropertyId}}get displayString(){let e="";if(this.Value)switch(this.ContentType){case a.ContentString:case a.ContentNumber:e=this.Value;break;case a.ContentBoolean:this.Value===!0?e="True":e="False";break;case a.ContentDateTime:let n=Date.parse(this.Value);if(!isNaN(n)){let i=new Date(n);return e.length<=10?i.toLocaleDateString():i.toLocaleString()}break;default:e=a[this.ContentType];break}else e="Undefined";return e}};var f=class t{constructor(e){if(this.DeveloperName="",this.ExternalId="",this.InternalId="",this.IsSelected=!1,this.Order=0,this.TypeElementId="",this.Properties={},e&&e[0]){let n=e[0];if(this.DeveloperName=n.developerName,this.InternalId=n.internalId,this.ExternalId=n.externalId,this.Order=n.order,this.IsSelected=n.isSelected,this.TypeElementId=n.typeElementId,n.properties&&n.properties.length>0)for(let i of n.properties)this.Properties[i.developerName]=new v(i)}else console.log("null data")}get developerName(){return this.DeveloperName}set developerName(e){this.DeveloperName=e}get externalId(){return this.ExternalId}set externalId(e){this.ExternalId=e}get internalId(){return this.InternalId}set internalId(e){this.InternalId=e}get isSelected(){return this.IsSelected}set isSelected(e){this.IsSelected=e}get order(){return this.Order}set order(e){this.Order=e}get typeElementId(){return this.TypeElementId}set typeElementId(e){this.TypeElementId=e}get properties(){return this.Properties}static newInstance(e){let n={developerName:e,externalId:"",internalId:crypto.randomUUID(),isSelected:!1,order:0,properties:[],typeElementId:""};return new this([n])}addProperty(e){this.Properties[e.developerName]=e}removeProperty(e){delete this.Properties[e]}clone(e){let n=t.newInstance(e||this.DeveloperName);return Object.keys(this.properties).forEach(i=>{let o=this.properties[i].clone();n.properties[i]=o}),n}iObjectData(e){let n=[];for(let o of Object.keys(this.properties))n.push(this.properties[o].iFlowObjectDataProperty());return{developerName:this.developerName,externalId:this.externalId,internalId:this.internalId,isSelected:e||this.isSelected,order:this.order,properties:n,typeElementId:this.TypeElementId}}iFlowObjectDataArray(e){let n=[];return n.push(this.iObjectData(e)),n}};var P;(function(t){t[t.ascending=0]="ascending",t[t.descending=1]="descending"})(P||(P={}));var p=class t{constructor(e){this.Items=[];for(let n of e||[])this.Items.push(new f([n]))}get items(){return this.Items}sort(e,n){return e===P.ascending?n?this.Items.sort((i,o)=>{let r,s;switch(i.properties[n].contentType){case a.ContentNumber:r=parseFloat(i.properties[n].value),s=parseFloat(o.properties[n].value);break;case a.ContentDateTime:r=new Date(i.properties[n].value),s=new Date(o.properties[n].value);break;default:r=i.properties[n].value,s=o.properties[n].value;break}switch(!0){case r<s:return-1;case r>s:return 1;default:return 0}}):this.Items.sort((i,o)=>i.order-o.order):n?this.Items.sort((i,o)=>{if(i&&o&&i.properties&&o.properties&&i.properties[n]&&o.properties[n]&&i.properties[n].value&&o.properties[n].value)if(i.properties[n])switch(!0){case i.properties[n].value<o.properties[n].value:return 1;case i.properties[n].value>o.properties[n].value:return-1;default:return 0}else return 0;else return 0}):this.Items.sort((i,o)=>i.order-o.order)}static fromJSONString(e,n,i,o){let r=new t;return JSON.parse(e).forEach(l=>{let c=f.newInstance(o);i.forEach(m=>{let h=l[m.developerName];switch(m.developerName===n&&(c.externalId=h),m.contentType){case a.ContentDateTime:h=new Date(h),h&&!isNaN(h.getTime())?h=h.toISOString():h="";break;case a.ContentNumber:h=parseFloat(""+h),h&&!isNaN(h)?h=""+h:h="";break;case a.ContentBoolean:h=new String(h).toLowerCase()==="true";break}c.addProperty(v.newInstance(m.developerName,m.contentType,h)),c.properties[m.developerName].typeElementPropertyId=m.typeElementPropertyId}),r.addItem(c)}),r}addItem(e){this.Items.push(e)}clearItems(){this.Items=[]}clone(){let e=new t;return this.items.forEach(n=>{e.addItem(n.clone())}),e}iFlowObjectDataArray(e){let n=[];for(let i of this.Items)n.push(i.iObjectData(e));return n}getItemWithPropertyName(e,n,i){for(let o of this.Items)if(o.properties[e]&&o.properties[e].value!=null){let r=o.properties[e].value,s=n;switch(o.properties[e].contentType){case a.ContentString:r=r.toLowerCase(),s=s.toLowerCase();break;case a.ContentNumber:r=r,s=parseFloat(s.toLowerCase());break;case a.ContentBoolean:r=r,s=new String(s).toLowerCase()==="true";break;default:break}if(r===s)return o.properties[i]}return null}getSelectedItems(){let e=new t;for(let n of this.Items)n.isSelected===!0&&e.addItem(n);return e}getItemWithPropertyValue(e,n){for(let i of this.Items)if(i.properties[e]&&i.properties[e].value!=null){let o=i.properties[e].value,r=n;switch(i.properties[e].contentType){case a.ContentString:o=o.toLowerCase(),r=new String(r).toLowerCase();break;case a.ContentNumber:o=o,r=parseFloat(new String(r).toLowerCase());break;case a.ContentBoolean:o=o,r=new String(r).toLowerCase()==="true";break;default:break}if(o===r)return i}}getIndexOfItemWithPropertyValue(e,n){for(let i=0;i<this.items.length;i++){let o=this.items[i];if(o.properties[e]&&o.properties[e].value!=null){let r=o.properties[e].value,s=n;switch(o.properties[e].contentType){case a.ContentString:r=r.toLowerCase(),s=s.toLowerCase();break;case a.ContentNumber:r=r,s=parseFloat(new String(s).toLowerCase());break;case a.ContentBoolean:r=r,s=new String(s).toLowerCase()==="true";break;default:break}if(r===s)return i}}return-1}removeItemWithPropertyValue(e,n){let i=0;for(let o=0;o<this.items.length;o++){let r=this.items[o];if(r.properties[e]&&r.properties[e].value!=null){let s=r.properties[e].value,l=n;switch(r.properties[e].contentType){case a.ContentString:s=s.toLowerCase(),l=l.toLowerCase();break;case a.ContentNumber:s=s,l=parseFloat(new String(l).toLowerCase());break;case a.ContentBoolean:s=s,l=new String(l).toLowerCase()==="true";break;default:break}s===l&&(this.items.splice(o,1),i++)}}return i}removeItemAtIndex(e){let n=0;return this.items[e]&&(this.items.splice(e,1),n=e),n}};var k=class{constructor(e,n){this.Name=e,this.Value=n}get name(){return this.Name}get value(){return this.Value}set value(e){this.Value=e}};var te;(function(t){t.Save="SAVE",t.PartialSave="PARTIAL_SAVE",t.NoSave="NO_SAVE"})(te||(te={}));var ne;(function(t){t.New="NEW",t.Query="QUERY",t.Insert="INSERT",t.Update="UPDATE",t.Upsert="UPSERT",t.Delete="DELETE",t.Remove="REMOVE",t.Add="ADD",t.Edit="EDIT",t.Next="NEXT",t.Back="BACK",t.Done="DONE",t.Save="SAVE",t.Cancel="CANCEL",t.Apply="APPLY",t.Import="IMPORT",t.Close="CLOSE",t.Open="OPEN",t.Submit="SUBMIT",t.Escalate="ESCALATE",t.Reject="REJECT",t.Delegate="DELEGATE"})(ne||(ne={}));var b=class{constructor(e){if(this.developerName=e.developerName,this.id=e.id,this.isBulkAction=e.isBulkAction,this.isOut=e.isOut,this.label=e.label,this.order=e.order,this.pageActionBindingType=e.pageActionBindingType,this.pageActionType=e.pageActionType,this.pageObjectBindingId=e.pageObjectBindingId,this.attributes={},e.attributes)for(let n of Object.keys(e.attributes))this.attributes[n]=new k(n,e.attributes[n])}};var C=class{constructor(e){this.componentType=e.componentType,this.contentFormat=e.contentFormat,this.contentType=a[e.contentType],this.developerName=e.developerName,this.order=e.order,this.label=e.label,this.isEditable=e.isEditable,this.typeElememtPropertyToDisplayId=e.typeElememtPropertyToDisplayId,this.typeElementPropertyId=e.typeElementPropertyId,this.isDisplayValue=e.isDisplayValue}};var a;(function(t){t[t.unknown=0]="unknown",t[t.ContentString=1]="ContentString",t[t.ContentNumber=2]="ContentNumber",t[t.ContentObject=3]="ContentObject",t[t.ContentBoolean=4]="ContentBoolean",t[t.ContentList=5]="ContentList",t[t.ContentPassword=6]="ContentPassword",t[t.ContentContent=7]="ContentContent",t[t.ContentDateTime=8]="ContentDateTime",t[t.ContentEncrypted=9]="ContentEncrypted"})(a||(a={}));var I=class{constructor(e){if(this.ContentType=a.unknown,this.DeveloperName="",this.TypeElementDeveloperName="",this.TypeElementId="",this.TypeElementPropertyDeveloperName="",this.TypeElementPropertyId="",this.ValueElementId="",e)switch(this.ContentType=a[e.contentType],this.DeveloperName=e.developerName,this.TypeElementDeveloperName=e.typeElementDeveloperName,this.TypeElementId=e.typeElementId,this.TypeElementPropertyDeveloperName=e.typeElementPropertyDeveloperName,this.TypeElementPropertyId=e.typeElementPropertyId,this.ValueElementId=e.valueElementId,this.ContentType){case a.ContentObject:this.Value=e.objectData?new f(e.objectData):void 0;break;case a.ContentList:this.Value=e.objectData&&e.objectData[0]?new p(e.objectData):new p([]);break;default:this.Value=e.contentValue;break}}get contentType(){return this.ContentType}get developerName(){return this.DeveloperName}get typeElementDeveloperName(){return this.TypeElementDeveloperName}get typeElementId(){return this.TypeElementId}get typeElementPropertyDeveloperName(){return this.TypeElementPropertyDeveloperName}get typeElementPropertyId(){return this.TypeElementPropertyId}get valueElementId(){return this.ValueElementId}get value(){return this.Value}set value(e){this.Value=e}iFlowField(){let e="",n=[];switch(this.ContentType){case a.ContentObject:let o=this.Value;n.push(o.iObjectData());break;case a.ContentList:n=this.Value.iFlowObjectDataArray();break;default:e=this.Value?this.Value:"";break}return{contentType:a[this.ContentType],contentValue:e,developerName:this.DeveloperName,objectData:n,typeElementDeveloperName:this.TypeElementDeveloperName,typeElementId:this.TypeElementId,typeElementPropertyDeveloperName:this.TypeElementPropertyDeveloperName,typeElementPropertyId:this.TypeElementPropertyId,valueElementId:this.ValueElementId}}};var O=function(t,e,n,i){function o(r){return r instanceof n?r:new n(function(s){s(r)})}return new(n||(n=Promise))(function(r,s){function l(h){try{m(i.next(h))}catch(y){s(y)}}function c(h){try{m(i.throw(h))}catch(y){s(y)}}function m(h){h.done?r(h.value):o(h.value).then(l,c)}m((i=i.apply(t,e||[])).next())})},S=class extends oe.default.Component{constructor(e){super(e),this.attributes={},this.fields={},this.outcomes={},this.triggerOutcome=this.triggerOutcome.bind(this),this.getPageComponentDataSource=this.getPageComponentDataSource.bind(this),this.loadModel=this.loadModel.bind(this),this.getOutcomeById=this.getOutcomeById.bind(this),this.triggerOutcome=this.triggerOutcome.bind(this),this.getPageComponentDataSource=this.getPageComponentDataSource.bind(this),this.loadModel(e)}callRequest(e,n,i,o=!1){return O(this,void 0,void 0,function*(){let r,s={},l=this.flowBaseUri||window.location.origin;o?l+="/api/run/2/state/"+this.stateId:l+="/api/run/1/state/"+this.stateId,e&&e.length>0&&(l+="/"+e),s.method=n,s.headers={"Content-Type":"application/json",ManyWhoTenant:this.tenantId},this.authenticationToken&&(s.headers.Authorization=this.authenticationToken),s.credentials="same-origin",(n==="POST"||n==="PUT")&&(s.body=JSON.stringify(i));let c=yield fetch(l,s);if(c.status===200)r=yield c.json();else{let m=yield c.text();console.log("Fetch Failed - "+m)}return r})}getAttribute(e,n){var i;return!((i=this.attributes)===null||i===void 0)&&i[e]?this.attributes[e]:n||""}getOutcomeById(e){let n;return Object.keys(this.outcomes).forEach(i=>{this.outcomes[i].id===e&&(n=this.outcomes[i])}),n}getStateValue(){return this.stateValue}getOriginalStateValue(){var e;switch(this.contentType){case a.ContentObject:return this.objectData.items[0];case a.ContentList:return this.objectData;case a.ContentBoolean:return((e=this.contentValue)===null||e===void 0?void 0:e.toLowerCase())==="true";case a.ContentNumber:let n=parseFloat(this.contentValue);return isNaN(n)?void 0:n;case a.ContentDateTime:let i=new Date(this.contentValue);return isNaN(i.getTime())?void 0:i;default:return this.contentValue}}getValue(e){return O(this,void 0,void 0,function*(){let n;try{n=yield this.callRequest("values/name/"+e,"GET",{}),sessionStorage.setItem(n.developerName,JSON.stringify(n))}catch(i){console.error(i),n=JSON.parse(sessionStorage.getItem(e))}finally{return n&&(this.fields[n.developerName]=new I(n)),this.fields[n.developerName]}})}setValues(e){return O(this,void 0,void 0,function*(){let n=[];if(e.constructor.name===I.name)n.push(e.iFlowField()),sessionStorage.setItem(e.developerName,JSON.stringify(e.iFlowField()));else for(let i of e)n.push(i.iFlowField()),sessionStorage.setItem(i.developerName,JSON.stringify(i.iFlowField()));return yield this.callRequest("values","POST",n),this.hasEvents,Promise.resolve()})}inflateValue(e){return O(this,void 0,void 0,function*(){if(e){let n,i,o=[];for(;i=RegExp(/{{([^}]*)}}/).exec(e);){let r=i[1].split("->"),s;if(this.fields[r[0]]?s=this.fields[r[0]]:(s=yield this.getValue(r[0]),this.fields[r[0]]=s),s){let l=s.value;if(l)if(r.length>1){for(let c=1;c<r.length;c++)l=l.properties[r[c]].value;n=l}else n=s.value;else n=s.value;e=e.replace(i[0],n)}}}return e})}};var ie=function(t,e,n,i){function o(r){return r instanceof n?r:new n(function(s){s(r)})}return new(n||(n=Promise))(function(r,s){function l(h){try{m(i.next(h))}catch(y){s(y)}}function c(h){try{m(i.throw(h))}catch(y){s(y)}}function m(h){h.done?r(h.value):o(h.value).then(l,c)}m((i=i.apply(t,e||[])).next())})},V=class extends S{constructor(e){var n;super(e),this.flowBaseUri=((n=manywho.settings.global("platform"))===null||n===void 0?void 0:n.uri)||window.location.origin}UNSAFE_componentWillReceiveProps(e,n){e.id!==this.id?this.loadModel(e)?this.childComponent&&this.componentDidMount&&this.componentDidMount():this.childComponent&&this.componentUpdated?this.componentUpdated(!1):this.childComponent&&this.componentDidMount&&this.componentDidMount():manywho.model.getComponent(this.id,this.flowKey)&&(this.loadModel(e)?this.childComponent&&this.componentDidMount&&this.componentDidMount():this.childComponent&&this.componentUpdated?this.componentUpdated(!1):this.childComponent&&this.componentDidMount&&this.componentDidMount())}componentUpdated(e){}loadModel(e){var n;let i=!1;this.id!==e.id&&(i=!0),this.id=e.id,this.flowKey=e.flowKey;let o=manywho.model.getComponent(this.id,this.flowKey);this.authenticationToken=manywho.state.getAuthenticationToken(this.flowKey),this.attributes=o.attributes,this.className=o.className,this.colSpan=o.colSpan,this.column=o.column,this.columns=[],(n=o.columns)===null||n===void 0||n.forEach(s=>{this.columns.push(new C(s))}),this.columns.sort((s,l)=>s.order-l.order),this.componentScriptURL=o.componentScriptURL,this.componentStyleSheetURL=o.componentStyleSheetURL,this.content=o.content,this.contentType=a[o.contentType],this.contentValue!==o.contentValue&&(i=!0),this.contentValue=o.contentValue,this.developerName=o.developerName,this.fields={},this.fileDataRequest=o.fileDataRequest,this.hasEvents=o.hasEvents,this.hasSubmitted=o.hasSubmitted,this.height=o.height,this.helpInfo=o.helpInfo,this.hintValue=o.hintValue,this.imageUri=o.imageUri,this.isEditable=o.isEditable,this.isEnabled=o.isEnabled,this.isMultiSelect=o.isMultiSelect,this.isRequired=o.isRequired,this.isSearchable=o.isSearchable,this.isSearchableDisplayColumns=o.isSearchableDisplayColumns,this.isValid=o.isValid,this.isVisible=o.isVisible,this.label=o.label,this.maxSize=o.maxSize;let r=new p(o.objectData);return this.objectData?r?JSON.stringify(this.objectData)!==JSON.stringify(r)&&(i=!0):i=!0:r&&(i=!0),this.objectData=r,this.objectDataRequest=o.objectDataRequest,this.order=o.order,this.outcomes={},manywho.model.getOutcomes(this.props.id,this.flowKey).forEach(s=>{let l=new b(s);l.pageObjectBindingId===this.id&&(this.outcomes[l.developerName]=l)}),manywho.model.getOutcomes("",this.flowKey).forEach(s=>{let l=new b(s);l.pageObjectBindingId===this.id&&(this.outcomes[l.developerName]=l)}),this.pageContainerId=o.pageContainerId,this.pageSize=o.pageSize||20,this.row=o.row,this.rowSpan=o.rowSpan,this.selectedItems=o.selectedItems,this.size=o.size,this.stateId=manywho.utils.extractStateId(this.flowKey),this.tags=o.tags,this.tenantId=manywho.utils.extractTenantId(this.flowKey),this.type=o.type,this.validationMessage=o.validationMessage,this.validations=o.validations,this.width=o.width,i}setStateValue(e){this.stateValue=e;let n=manywho.model.getComponent(this.id,this.flowKey),i;if(n)switch(n.contentType){case"ContentObject":let o=null;e&&(e.isSelected=!0,o=e.iFlowObjectDataArray(),o=JSON.parse(JSON.stringify(o))),i={objectData:o},manywho.state.setComponent(this.id,i,this.flowKey,!0);break;case"ContentList":let r=null;e&&(r=e.iFlowObjectDataArray(),r=JSON.parse(JSON.stringify(r))),i={objectData:r},manywho.state.setComponent(this.id,i,this.flowKey,!0);break;case"ContentDate":i={contentValue:e.toISOString()},manywho.state.setComponent(this.id,i,this.flowKey,!0);break;default:i={contentValue:e},manywho.state.setComponent(this.id,i,this.flowKey,!0);break}this.hasEvents&&manywho.component.handleEvent(this,manywho.model.getComponent(this.id,this.flowKey),this.flowKey,null)}triggerOutcome(e){return ie(this,void 0,void 0,function*(){let n;return this.outcomes[e]&&(n=this.outcomes[e]),n?yield manywho.component.onOutcome(n,null,this.flowKey):console.log("Could not find outcome "+e),Promise.resolve()})}requestObjectData(e){return ie(this,void 0,void 0,function*(){return yield manywho.engine.objectDataRequest(this.id,e,this.flowKey)})}getPageComponentDataSource(e){let n=manywho.model.getComponentByName(e,this.flowKey),i={objectData:n.objectData};return manywho.state.setComponent(n.id,i,this.flowKey,!0),new p(n.objectData)}setPageComponentState(e,n){let i=manywho.model.getComponentByName(e,this.flowKey);manywho.state.setComponent(i.id,n.iFlowObjectDataArray(!0),this.flowKey,!0)}getUserEmail(){let e="admin@manywho.com",n=manywho.state.getAuthenticationToken(this.flowKey);if(n&&n.length>0)try{let i=window.atob(n.split(".")[1]);e=JSON.parse(i).email}catch{console.log("Error parsing token")}return e}};var re=M(N());var U=M(N()),T=class extends U.default.Component{constructor(n){super(n);this.version="1.0.0";this.component=this.props.parent,this.triggerOutcome=this.triggerOutcome.bind(this),window.addEventListener("beforeunload",this.triggerOutcome)}async triggerOutcome(){let n=Object.keys(this.component.outcomes)[0];n&&this.component.triggerOutcome(n)}async componentUpdated(n){}render(){let n="",i={};i.width="0px",i.height="0px",this.component.isVisible===!1&&(i.display="none");let o=this.component.label||"";return U.default.createElement("div",{className:n,style:i})}};var B=class extends V{componentDidMount(){this.childComponent&&this.childComponent.componentDidMount&&this.childComponent.componentDidMount()}componentUpdated(e){this.childComponent&&this.childComponent.componentUpdated&&this.childComponent.componentUpdated()}render(){return re.createElement(T,{key:this.id,parent:this,ref:e=>{this.childComponent=e}})}};manywho.component.register("OutcomeOnClose",B);
/*! Bundled license information:

react/cjs/react.production.min.js:
  (**
   * @license React
   * react.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)
*/
